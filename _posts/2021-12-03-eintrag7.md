---
title: "Metadaten modellieren und Schnittstellen nutzen - Teil 2 (03.12.2021)"
date: 2021-12-03
---
In der heutigen Lerneinheit geht es weiter mit dem Thema **Metadaten modellieren und Schnittstellen nutzen**, dabei liegt der Schwerpunkt auf der Arbeit mit Tabellendaten.

Um Tabellendaten zu bereinigen und in ein anderes Format (in unserem Fall MARC21) zu konvertieren, nutzen wir **OpenRefine**. OpenRefine ist ein Programm, dass Tabellenverarbeitungssoftware ähnelt und zur Analyse, Bereinigung, Konvertierung und Anreicherung von Daten eingesetzt wird. Es eignet sich besonders für tabellarische Daten wie CSV, auch flaches XML (z.B. MARCXML) oder JSON ist noch möglich, für komplexeres XML mit Hierarchien (z.B. EAD) ist nur noch mit Zusatztools möglich.

Um das Programm praktisch zu testen, installieren wir OpenRefine 3.5.0 auf unserer VDI. Zur **Einführung in OpenRefine** gehen wir ein paar Basisfunktionen gemeinsam durch, bevor wir Daten in MARCXML konvertieren. So laden wir in einem ersten Schritt [diese Beispieldaten](https://raw.githubusercontent.com/LibraryCarpentry/lc-open-refine/gh-pages/data/doaj-article-sample.csv) in OpenRefine. Im Gegensatz zu Excel orientiert sich das Design an Suchmaschinen wie Google, so kann man einstellen wieviele Zeilen auf einer Seite angezeigt werden sollen und durch die einzelnen Seiten navigieren. Eine Hauptfunktion in OpenRefine sind die Facetten, mit diesen kann man sehr gezielt Daten auswählen und filtern. Diese Funktion hilft dabei Datenkonsistenz herzustellen, da man direkt über die Facette die Tabelleninhalte ändern kann. Wenn also beispielsweise in einer Spalte zu den Sprachen der Wert «Englisch» und der Wert «EN» geführt wird, so erkennt man das durch die Facette und kann beispielsweise den Wert «Englisch» zu «EN» umändern. Eine weitere nützliche Funktion ist die Split multi-valued cells, damit kann man mehrwertige Zellen korrigieren und die Werte auf zwei Zellen verteilen. Ebenso gibt es die gegenteilige Funktion, die Join multi-valued cells, um Werte verschiedener Zellen wieder zusammezuführen. Die Funktion, die ich am spannendsten fand, ist die Cluster Funktion. Mit dieser werden alle ausgewählten Facetteneinträge, z.B. die Autoren verglichen und von Algorithmen geprüft, ob es sich bei zwei verschiedenen Einträgen eventuell um den gleichen Eintrag handelt. Das finde ich eine sehr praktische Funktion.
Um das OpenRefine selbst auszuprobieren, sollten wir eine kleine Übung lösen. Beispielsweise ablesen, wie häufig eine bestimmte Lizenz in den Beispieldaten vergeben ist. Nach der vorigen Einführung von Herrn Lohmeier ist es mir leicht gefallen die einzelnen Fragen zu beantworten.

Anschliessend schauen wir uns eine weitere Kernfunktion von OpenRefine genauer an, die **Reconciliation**. Dabei geht es um den Abgleich und die Anreicherung mit externen Datenquellen. Bei der Demonstration zeigt uns Herr Lohmeier wie man über die ISSN Informationen zu den Zeitschriften ergänzen kann. Der Zeitschriftenname liest er aus der Spalte Citation mit einer entsprechenden Expression in der GREL Sprache aus. Dann kann er über die Funktion Reconcile auf die vorinstallierte Wikidata Schnittstelle(?) zugreifen. So kann dann der Abgleich stattfinden. Über diese Verknüpfung sind nun auch Anreicherungen möglich, so kann beispielsweise noch eine Spalte mit der offiziellen Webseite der Zeitschriften über Wikidata ergänzt werden.

Die nächste Übung ist die **Konvertierung von CSV nach MARCXML** mit OpenRefine. Dazu versuchen wir mit der Funktion Templating Exporter eine eigene Vorlage dafür anzulegen. Dazu müssen für die Spalten entsprechende MARC21 Felder gefunden und zugewiesen werden. Dazu kommt wieder die GREL Sprache zum Einsatz. Das Ganze haben wir exemplarisch an ein paar MARC21 Felden angeschaut und so eine erste Vorlage, um MARC21 zu erstellen gemacht.

Das letzte Thema von heute ist das **Validieren mit xmllint**. Damit können wir XML-Dateien validieren. Dazu müssen wir das vorher erstellte Gesamtergebnis als XML-Datei exportieren. Mit xmllint das auf Ubunte vorinstalliert ist, können wir unsere Vorlage so mit dem offiziellen Schema von MARC21 abgleichen. 
